<div class="">
  <!-- Cover Image -->
  <div
    class="relative w-full h-[35vh] rounded-3xl bg-cover bg-center"
    [style.backgroundImage]="'url(' + (coverImage || defaultCover) + ')'"
  ></div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 p-0 px-4 h-[50vh]">
    <!-- LEFT: Profile Card -->
    <div class="col-span-1">
      <p-card
        class="bg-[#111111] border-none shadow-lg overflow-hidden rounded-none text-white"
        styleClass="w-full overflow-visible"
      >
        <div class="flex flex-col items-center py-6">
          <!-- Profile Image -->
          <div class="relative -mt-24 w-[175px]">
            <img
              src="{{ user?.profileImage }}"
              alt="Profile"
              class="w-[175px] h-[175px] rounded-full border-4 border-gray-700 object-cover"
            />
            <button
              pButton
              icon="pi pi-info-circle"
              class="absolute bottom-0 left-0 bg-gray-700 text-white rounded-full p-2"
            ></button>
            <button
              pButton
              class="absolute bottom-0 right-0 bg-gray-700 text-white rounded-full p-2"
            >
              <i class="pi pi-camera" style="font-size: 1.5rem"></i>
            </button>
          </div>

          <h2 class="text-lg font-semibold mt-3 text-lg">
            {{ user?.artistName ? user?.artistName : user?.firstName }}
          </h2>

          @if (user?.artistType) {
          <div class="mt-4 w-[100%]">
            <h3 class="text-teal-400 font-medium">Artist Type:</h3>
            <p class="text-gray-300">{{ user?.artistType }}</p>
          </div>
          } @if (user?.musicSpecialization) {
          <div class="mt-3 w-[100%]">
            <h3 class="text-teal-400 font-medium">Genres:</h3>
            <p class="text-gray-300">{{ user?.musicSpecialization.join(', ') }}</p>
          </div>
          } @if (user?.profileIntro) {
          <div class="mt-3 w-[100%]">
            <h3 class="text-teal-400 font-medium">Profile Introduction:</h3>
            <div [innerHTML]="user?.profileIntro"></div>
          </div>
          }
        </div>
      </p-card>
    </div>

    <!-- RIGHT: Tab Layout -->
    <div class="col-span-2">
      <div class="flex justify-end items-center gap-3 px-6 py-4">
        <button
          class="flex items-center gap-2 bg-teal-500 hover:bg-teal-600 px-6 py-2 rounded-full font-semibold text-sm transition color-[#000000]"
        >
          Add/Upload
          <i class="pi pi-upload text-sm"></i>
        </button>

        <button
          class="flex items-center gap-2 bg-transparent hover:bg-gray-800 text-white px-6 py-2 rounded-full font-semibold text-sm transition border border-gray-600"
          (click)="openEditProfile()"
        >
          Edit Profile
          <i class="pi pi-pencil text-sm"></i>
        </button>
      </div>

      <div class="bg-none rounded-none overflow-hidden text-white w-full">
        <!-- Vertical Tabs -->
        <div class="vertical-tabs" style="width: 100%">
          <p-tabs [(value)]="activeIndex">
            <p-tablist class="custom-tab-bar">
              @for (tab of tabs; track tab.value) {
              <p-tab [value]="tab.value">{{ tab.title }}</p-tab>
              }
            </p-tablist>
            <p-tabpanels styleClass="">
              @for (tab of tabs; track tab.value) {
              <p-tabpanel [value]="tab.value">
                <p class="m-0">{{ tab.content }}</p>
              </p-tabpanel>
              }
            </p-tabpanels>
          </p-tabs>
        </div>
      </div>
    </div>
  </div>
</div>
<app-edit-profile *ngIf="isEditOpen" (close)="isEditOpen = false" [user]="user"> </app-edit-profile>
